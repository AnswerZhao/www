<!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->





<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Cloud Native Stream Processor">
      
      
        <link rel="canonical" href="http://siddhi.io/en/v5.1/docs/config-guide/">
      
      
        <meta name="author" content="WSO2">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Configuration Guide - Siddhi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/lib/highlightjs/default.min.css">
    
      <link rel="stylesheet" href="../../assets/css/theme.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-103065-28", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#siddhi-51-config-guide" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<header class="md-header" data-md-component="header" id="page-header" data-url=""
        data-lang="en">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://siddhi.io/en/v5.1/" title="Siddhi"
           class="md-header-nav__button md-logo">
          
            <img src="../../images/siddhi-logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Siddhi
            </span>
            <span class="md-header-nav__topic">
              Configuration Guide
            </span>
          
        </div>
        <div class="md-flex__ellipsis md-header__version-select">
            <div class="mb-tabs__dropdown version-select">
                <a class="md-tabs__link md-tabs__dropdown-link" href="#!" data-target="version-select-dropdown">
                  v5.1</a>
                <ul id="version-select-dropdown" class="mb-tabs__dropdown-content" tabindex="0">
                    <!-- Versions will added here dynamically -->
                    <li class="md-tabs__item mb-tabs__dropdown">
                        <a href="#" id="show-all-versions-link">Show all</a>
                    </li>
                </ul>
            </div>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          


  

<a href="https://github.com/siddhi-io/siddhi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Siddhi
  </div>
</a>
        </div>
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
        <li class="md-tabs__item home_icon">
            <a href="/" title="Siddhi Home" class="md-tabs__link md-tabs__link--active">
                <i class="fa fa-home"></i>
            </a>
        </li>
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../download/" title="Download" class="md-tabs__link">
          Download
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../quick-start/" title="Quick Start" class="md-tabs__link">
          Quick Start
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="Documentation" class="md-tabs__link md-tabs__link--active">
          Documentation
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="/community/" title="Community" class="md-tabs__link">
          Community
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../development/" title="Development" class="md-tabs__link">
          Development
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="/license/" title="License" class="md-tabs__link">
          License
        </a>
      
    </li>
  

      
    </ul>
    <div class="quick_links">
        
        <a href="https://github.com/siddhi-io/www/edit/v5.1/en/docs/docs/config-guide.md" target="blank" id="editIcon" title="Edit this page"
           title="Edit this page" class="md-icon md-content__icon nav_link edit_link"></a>
        
    </div>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
    <label class="md-nav__title md-nav__title--site" for="__drawer">
      <a href="http://siddhi.io/en/v5.1/" title="Siddhi"
         class="md-nav__button md-logo">
        
          <img src="../../images/siddhi-logo.svg" width="48" height="48">
        
      </a>
      Siddhi
    </label>
    
      <div class="md-nav__source">
        


  

<a href="https://github.com/siddhi-io/siddhi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Siddhi
  </div>
</a>
      </div>
    
    <ul class="md-nav__list" data-md-scrollfix>
      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Download
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Download
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extensions/" title="Extensions" class="md-nav__link">
      Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Quick Start
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Quick Start
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Use case Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Use case Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/alerts-for-thresholds/guide/" title="Alerts Based on Thresholds" class="md-nav__link">
      Alerts Based on Thresholds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/fault-tolerance/guide/" title="Fault Tolerance & Error Handling" class="md-nav__link">
      Fault Tolerance & Error Handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/patterns-and-trends/guide/" title="Patterns & Trends Over Time" class="md-nav__link">
      Patterns & Trends Over Time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/database-static-rule-processing/guide/" title="Static Rule Processing using Database Rules" class="md-nav__link">
      Static Rule Processing using Database Rules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/integrate-various-enterprise-systems/guide/" title="Integrate Various Enterprise Systems" class="md-nav__link">
      Integrate Various Enterprise Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/realtime-movie-recommendation/guide/" title="Realtime predictions with pre-trained ML models" class="md-nav__link">
      Realtime predictions with pre-trained ML models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/long-term-aggregation/guide/" title="Long-running time based Aggregations" class="md-nav__link">
      Long-running time based Aggregations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tooling/" title="Tooling" class="md-nav__link">
      Tooling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../query-guide/" title="Query Guide" class="md-nav__link">
      Query Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7">
    
    <label class="md-nav__link" for="nav-3-7">
      Siddhi APIs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        Siddhi APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/latest/" title="latest" class="md-nav__link">
      latest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/5.1.0/" title="5.1.0" class="md-nav__link">
      5.1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      REST API Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        REST API Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-guides/siddhi-app-api/" title="Siddhi App APIs" class="md-nav__link">
      Siddhi App APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-guides/on-demand-query-api/" title="On-Demand Query APIs" class="md-nav__link">
      On-Demand Query APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-guides/health-check-api/" title="Health Check APIs" class="md-nav__link">
      Health Check APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-guides/store-api/" title="Store APIs (Deprecated)" class="md-nav__link">
      Store APIs (Deprecated)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-guides/default-ports/" title="Default Ports" class="md-nav__link">
      Default Ports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-guides/http-status-code/" title="HTTP Status Codes" class="md-nav__link">
      HTTP Status Codes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extensions/" title="Extensions" class="md-nav__link">
      Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-java-library/" title="Siddhi Java library" class="md-nav__link">
      Siddhi Java library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-local-microservice/" title="Siddhi Local Microservice" class="md-nav__link">
      Siddhi Local Microservice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-docker-microservice/" title="Siddhi Docker Microservice" class="md-nav__link">
      Siddhi Docker Microservice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../siddhi-as-a-kubernetes-microservice/" title="Siddhi Kubernetes Microservice" class="md-nav__link">
      Siddhi Kubernetes Microservice
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Configuration Guide
      </label>
    
    <a href="./" title="Configuration Guide" class="md-nav__link md-nav__link--active">
      Configuration Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-databases" title="Configuring Databases" class="md-nav__link">
    Configuring Databases
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-periodic-state-persistence" title="Configuring Periodic State Persistence" class="md-nav__link">
    Configuring Periodic State Persistence
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#persistence-on-database" title="Persistence on Database" class="md-nav__link">
    Persistence on Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistence-on-file-system" title="Persistence on File System" class="md-nav__link">
    Persistence on File System
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-siddhi-elements" title="Configuring Siddhi Elements" class="md-nav__link">
    Configuring Siddhi Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-sources-sinks-and-stores-references" title="Configuring Sources, Sinks and Stores References" class="md-nav__link">
    Configuring Sources, Sinks and Stores References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-extensions-system-parameters" title="Configuring Extensions System Parameters" class="md-nav__link">
    Configuring Extensions System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-siddhi-properties" title="Configuring Siddhi Properties" class="md-nav__link">
    Configuring Siddhi Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-authentication" title="Configuring Authentication" class="md-nav__link">
    Configuring Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-extensions-and-third-party-dependencies" title="Adding Extensions and Third Party Dependencies" class="md-nav__link">
    Adding Extensions and Third Party Dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-java-program" title="Adding to Siddhi Java Program" class="md-nav__link">
    Adding to Siddhi Java Program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-local-microservice" title="Adding to Siddhi Local Microservice" class="md-nav__link">
    Adding to Siddhi Local Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-docker-microservice" title="Adding to Siddhi Docker Microservice" class="md-nav__link">
    Adding to Siddhi Docker Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-kubernetes-microservice" title="Adding to Siddhi Kubernetes Microservice" class="md-nav__link">
    Adding to Siddhi Kubernetes Microservice
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-statistics" title="Configuring Statistics" class="md-nav__link">
    Configuring Statistics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reporting-via-jmx-mbeans" title="Reporting via JMX Mbeans" class="md-nav__link">
    Reporting via JMX Mbeans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-console" title="Reporting via Console" class="md-nav__link">
    Reporting via Console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-database" title="Reporting via Database" class="md-nav__link">
    Reporting via Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-jars-to-osgi-bundles" title="Converting Jars to OSGi Bundles" class="md-nav__link">
    Converting Jars to OSGi Bundles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypt-sensitive-deployment-configurations" title="Encrypt sensitive deployment configurations" class="md-nav__link">
    Encrypt sensitive deployment configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-server-properties" title="Configuring server properties" class="md-nav__link">
    Configuring server properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-port-offset" title="Configure port offset" class="md-nav__link">
    Configure port offset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disabling-host-name-verification" title="Disabling host name verification" class="md-nav__link">
    Disabling host name verification
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-admin-rest-apis" title="Configuring Admin REST APIs" class="md-nav__link">
    Configuring Admin REST APIs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-databridge-transport" title="Configuring Databridge Transport" class="md-nav__link">
    Configuring Databridge Transport
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-listener" title="Configuring databridge listener" class="md-nav__link">
    Configuring databridge listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-publisher" title="Configuring databridge publisher" class="md-nav__link">
    Configuring databridge publisher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Community
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Community
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="/community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/source/" title="Source" class="md-nav__link">
      Source
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/build/" title="Build" class="md-nav__link">
      Build
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      License
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        License
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
    </ul>
  </nav>  
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-databases" title="Configuring Databases" class="md-nav__link">
    Configuring Databases
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-periodic-state-persistence" title="Configuring Periodic State Persistence" class="md-nav__link">
    Configuring Periodic State Persistence
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#persistence-on-database" title="Persistence on Database" class="md-nav__link">
    Persistence on Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistence-on-file-system" title="Persistence on File System" class="md-nav__link">
    Persistence on File System
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-siddhi-elements" title="Configuring Siddhi Elements" class="md-nav__link">
    Configuring Siddhi Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-sources-sinks-and-stores-references" title="Configuring Sources, Sinks and Stores References" class="md-nav__link">
    Configuring Sources, Sinks and Stores References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-extensions-system-parameters" title="Configuring Extensions System Parameters" class="md-nav__link">
    Configuring Extensions System Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-siddhi-properties" title="Configuring Siddhi Properties" class="md-nav__link">
    Configuring Siddhi Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-authentication" title="Configuring Authentication" class="md-nav__link">
    Configuring Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-extensions-and-third-party-dependencies" title="Adding Extensions and Third Party Dependencies" class="md-nav__link">
    Adding Extensions and Third Party Dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-java-program" title="Adding to Siddhi Java Program" class="md-nav__link">
    Adding to Siddhi Java Program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-local-microservice" title="Adding to Siddhi Local Microservice" class="md-nav__link">
    Adding to Siddhi Local Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-docker-microservice" title="Adding to Siddhi Docker Microservice" class="md-nav__link">
    Adding to Siddhi Docker Microservice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-kubernetes-microservice" title="Adding to Siddhi Kubernetes Microservice" class="md-nav__link">
    Adding to Siddhi Kubernetes Microservice
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-statistics" title="Configuring Statistics" class="md-nav__link">
    Configuring Statistics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reporting-via-jmx-mbeans" title="Reporting via JMX Mbeans" class="md-nav__link">
    Reporting via JMX Mbeans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-console" title="Reporting via Console" class="md-nav__link">
    Reporting via Console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reporting-via-database" title="Reporting via Database" class="md-nav__link">
    Reporting via Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-jars-to-osgi-bundles" title="Converting Jars to OSGi Bundles" class="md-nav__link">
    Converting Jars to OSGi Bundles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypt-sensitive-deployment-configurations" title="Encrypt sensitive deployment configurations" class="md-nav__link">
    Encrypt sensitive deployment configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-server-properties" title="Configuring server properties" class="md-nav__link">
    Configuring server properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-port-offset" title="Configure port offset" class="md-nav__link">
    Configure port offset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disabling-host-name-verification" title="Disabling host name verification" class="md-nav__link">
    Disabling host name verification
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-admin-rest-apis" title="Configuring Admin REST APIs" class="md-nav__link">
    Configuring Admin REST APIs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-databridge-transport" title="Configuring Databridge Transport" class="md-nav__link">
    Configuring Databridge Transport
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-listener" title="Configuring databridge listener" class="md-nav__link">
    Configuring databridge listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-databridge-publisher" title="Configuring databridge publisher" class="md-nav__link">
    Configuring databridge publisher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
  
                
                  <a href="https://github.com/siddhi-io/www/edit/v5.1/en/docs/docs/config-guide.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="siddhi-51-config-guide">Siddhi 5.1 Config Guide<a class="headerlink" href="#siddhi-51-config-guide" title="Permanent link">&para;</a></h1>
<h2 id="configuring-databases">Configuring Databases<a class="headerlink" href="#configuring-databases" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>It is recommended to configure RDBMS databases as datasources under <code>datasources</code> section of Siddhi configuration yaml, and pass it during startup, this will allow database to reuse connections across multiple Siddhi Apps.</p>
<p>By default Siddhi stores product-specific data in predefined embedded H2 database located in <code>&lt;SIDDHI_RUNNER_HOME&gt;/wso2/runner/database</code> directory. Here, the default H2 database is only suitable for development, testing, and some production environments which do not store data.</p>
<p>However, for most production environments we recommend using industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, or MSSQL. In this case users are expected to add the relevant database drivers to Siddhi's class-path.</p>
<div class="admonition note">
<p class="admonition-title">Including database drivers.</p>
<p>The database driver corresponding to the database should be an OSGi bundle and it need to be added to <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib/</code> directory. If the driver is a jar then this should be <a href="#converting-jars-to-osgi-bundles">converted to an OSGi bundle before adding</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Converting Non OSGi drivers.</p>
<p>If the database driver is not an OSGi bundle, then it should be converted to OSGi. Please refer <a href="#converting-jars-to-osgi-bundles">Converting Jars to OSGi Bundles</a> documentation for details.</p>
</div>
<p>The necessary table schemas are self generated by the features themselves, other than the tables needed for <a href="#reporting-via-database">statistics reporting via databases</a>.</p>
<p><strong>Below are the sample datasource configuration for each supported database types:</strong></p>
<ul>
<li>
<p>MySQL<br />
  <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">dataSources</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SIDDHI_TEST_DB</span>
    <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The datasource used for test database</span>
    <span class="nt">jndiConfig</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc/SIDDHI_TEST_DB</span>
    <span class="nt">definition</span><span class="p">:</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RDBMS</span>
      <span class="nt">configuration</span><span class="p">:</span>
        <span class="nt">jdbcUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc:mysql://hostname:port/testdb</span>
        <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
        <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
        <span class="nt">driverClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">com.mysql.jdbc.Driver</span>
        <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
        <span class="nt">idleTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60000</span>
        <span class="nt">connectionTestQuery</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SELECT 1</span>
        <span class="nt">validationTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
        <span class="nt">isAutoCommit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>Oracle<br />
  There are two ways to configure Oracle. If you have a System Identifier (SID), use this (older) format:<br />
    <pre>
  jdbc:oracle:thin:@[HOST][:PORT]:SID
  </pre>
  <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">dataSources</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SIDDHI_TEST_DB</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The datasource used for test database</span>
  <span class="nt">jndiConfig</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc/SIDDHI_TEST_DB</span>
  <span class="nt">definition</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RDBMS</span>
    <span class="nt">configuration</span><span class="p">:</span>
      <span class="nt">jdbcUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc:oracle:thin:@hostname:port:SID</span>
      <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">testdb</span>
      <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
      <span class="nt">driverClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">oracle.jdbc.driver.OracleDriver</span>
      <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">idleTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60000</span>
      <span class="nt">connectionTestQuery</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SELECT 1</span>
      <span class="nt">validationTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
      <span class="nt">isAutoCommit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table>
  If you have an Oracle service name, use this (newer) format:
  <pre>
  jdbc:oracle:thin:@//[HOST][:PORT]/SERVICE
  </pre>
  <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">dataSources</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SIDDHI_TEST_DB</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The datasource used for test database</span>
  <span class="nt">jndiConfig</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc/SIDDHI_TEST_DB</span>
  <span class="nt">definition</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RDBMS</span>
    <span class="nt">configuration</span><span class="p">:</span>
      <span class="nt">jdbcUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc:oracle:thin:@hostname:port/SERVICE</span>
      <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">testdb</span>
      <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
      <span class="nt">driverClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">oracle.jdbc.driver.OracleDriver</span>
      <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
      <span class="nt">idleTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60000</span>
      <span class="nt">connectionTestQuery</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SELECT 1</span>
      <span class="nt">validationTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
      <span class="nt">isAutoCommit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>PostgreSQL
  <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">dataSources</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SIDDHI_TEST_DB</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The datasource used for test database</span>
  <span class="nt">jndiConfig</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc/SIDDHI_TEST_DB</span>
  <span class="nt">definition</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RDBMS</span>
  <span class="nt">configuration</span><span class="p">:</span>
    <span class="nt">jdbcUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc:postgresql://hostname:port/testdb</span>
    <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
    <span class="nt">driverClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.postgresql.Driver</span>
    <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="nt">idleTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60000</span>
    <span class="nt">connectionTestQuery</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SELECT 1</span>
    <span class="nt">validationTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
    <span class="nt">isAutoCommit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>MSSQL
  <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span> <span class="nt">dataSources</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SIDDHI_TEST_DB</span>
   <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The datasource used for test database</span>
   <span class="nt">jndiConfig</span><span class="p">:</span>
     <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc/SIDDHI_TEST_DB</span>
   <span class="nt">definition</span><span class="p">:</span>
     <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RDBMS</span>
     <span class="nt">configuration</span><span class="p">:</span>
       <span class="nt">jdbcUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jdbc:sqlserver://hostname:port;databaseName=testdb</span>
       <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
       <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
       <span class="nt">driverClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">com.microsoft.sqlserver.jdbc.SQLServerDriver</span>
       <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
       <span class="nt">idleTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60000</span>
       <span class="nt">connectionTestQuery</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SELECT 1</span>
       <span class="nt">validationTimeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
       <span class="nt">isAutoCommit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></p>
</li>
</ul>
<h2 id="configuring-periodic-state-persistence">Configuring Periodic State Persistence<a class="headerlink" href="#configuring-periodic-state-persistence" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>This explains how to periodically persisting the state of Siddhi either into a database system or file system, in order to prevent data losses that can result from a system failure.</p>
<h3 id="persistence-on-database">Persistence on Database<a class="headerlink" href="#persistence-on-database" title="Permanent link">&para;</a></h3>
<p>To perform periodic state persistence on a database, the database should be configured as a datasource and the relevant jdbc drivers should be added to Siddhi's class-path. Refer <a href="#Configuring-Databases">Database Configuration</a> section for more information.</p>
<p>To configure database based periodic data persistence, add <code>statePersistence</code> section with the following properties on the Siddhi configuration yaml, and pass that during startup.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Purpose</th>
<th>Required Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>This enables data persistence.</td>
<td>true</td>
</tr>
<tr>
<td>intervalInMin</td>
<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>
<td>1</td>
</tr>
<tr>
<td>revisionsToKeep</td>
<td>The number of revisions to keep in the system. Here when a new persistence takes place, the older revisions are removed.</td>
<td>3</td>
</tr>
<tr>
<td>persistenceStore</td>
<td>The persistence store</td>
<td>io.siddhi.distribution.core.persistence.DBPersistenceStore</td>
</tr>
<tr>
<td>config &gt; datasource</td>
<td>The datasource to be used in persisting the state. The datasource should be defined in the Siddhi configuration yaml. For detailed instructions of how to configure a datasource, see <a href="#Configuring-Databases">Database Configuration</a>.</td>
<td>SIDDHI_PERSISTENCE_DB (A datasource that is defined in <code>datasources</code> in Siddhi configuration yaml)</td>
</tr>
<tr>
<td>config &gt; table</td>
<td>The table that should be created and used for persisting states.</td>
<td>PERSISTENCE_TABLE</td>
</tr>
</tbody>
</table>
<p>The following is a sample configuration for database based state persistence.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">statePersistence</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">intervalInMin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">revisionsToKeep</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
  <span class="nt">persistenceStore</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">io.siddhi.distribution.core.persistence.DBPersistenceStore</span>
  <span class="nt">config</span><span class="p">:</span>
    <span class="nt">datasource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;DATASOURCE NAME&gt;</span>   <span class="c1"># A datasource with this name should be defined in datasources namespace</span>
    <span class="nt">table</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;TABLE NAME&gt;</span>
</pre></div>
</td></tr></table></p>
<h3 id="persistence-on-file-system">Persistence on File System<a class="headerlink" href="#persistence-on-file-system" title="Permanent link">&para;</a></h3>
<p>To configure file system based periodic data persistence, add <code>statePersistence</code> section with the following properties on the Siddhi configuration yaml, and pass that during startup.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Purpose</th>
<th>Required Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>This enables data persistence.</td>
<td>true</td>
</tr>
<tr>
<td>intervalInMin</td>
<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>
<td>1</td>
</tr>
<tr>
<td>revisionsToKeep</td>
<td>The number of revisions to keep in the system. Here when a new persistence takes place, the older revisions are removed.</td>
<td>3</td>
</tr>
<tr>
<td>persistenceStore</td>
<td>The persistence store</td>
<td>io.siddhi.distribution.core.persistence.FileSystemPersistenceStore</td>
</tr>
<tr>
<td>config &gt; location</td>
<td>A fully qualified folder location to where the revision files should be persisted.</td>
<td>siddhi-app-persistence</td>
</tr>
</tbody>
</table>
<p>The following is a sample configuration for file system based state persistence.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">statePersistence</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">intervalInMin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">revisionsToKeep</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">persistenceStore</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">io.siddhi.distribution.core.persistence.FileSystemPersistenceStore</span>
  <span class="nt">config</span><span class="p">:</span>
    <span class="nt">location</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">siddhi-app-persistence</span>
</pre></div>
</td></tr></table></p>
<h2 id="configuring-siddhi-elements">Configuring Siddhi Elements<a class="headerlink" href="#configuring-siddhi-elements" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>You can configure some of there environment specific configurations in the Siddhi Configuration yaml rather than configuring in-line, such that your Siddhi Application can become potable between environments.</p>
<h3 id="configuring-sources-sinks-and-stores-references">Configuring Sources, Sinks and Stores References<a class="headerlink" href="#configuring-sources-sinks-and-stores-references" title="Permanent link">&para;</a></h3>
<p>Multiple sources, sinks, and stores could be defined in Siddhi Configuration yaml as <code>ref</code>, and referred by several Siddhi Applications as described below.</p>
<p>The following is the syntax for the configuration.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">refs</span><span class="p">:</span>
  <span class="p p-Indicator">-</span>
    <span class="nt">ref</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;&lt;name&gt;&#39;</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&#39;&lt;type&gt;&#39;</span>
      <span class="nt">properties</span><span class="p">:</span>
        <span class="nt">&lt;property1&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;value1&gt;</span>
        <span class="nt">&lt;property2&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;value2&gt;</span>
</pre></div>
</td></tr></table></p>
<p>For each separate refs you want to configure, add a sub-section named <code>ref</code> under the <code>refs</code> subsection.</p>
<p>The ref configured in Siddhi Configuration yaml can be referred from a Siddhi Application <a href="../query-guide/#source">Source</a> as follows.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="o">@</span><span class="nf">Source</span><span class="p">(</span><span class="n">ref</span><span class="o">=</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span>
        <span class="o">@</span><span class="nf">map</span><span class="p">(</span><span class="n">type</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="o">@</span><span class="nf">attributes</span><span class="p">(</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;$.name&#39;</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="s1">&#39;$.quantity&#39;</span><span class="p">)))</span>
<span class="n">define</span> <span class="n">stream</span> <span class="nf">SweetProductionStream</span> <span class="p">(</span><span class="n">name</span> <span class="n">string</span><span class="p">,</span> <span class="n">amount</span> <span class="kt">double</span><span class="p">);</span>
</pre></div>
</td></tr></table>
Similarly <a href="../query-guide/#sink">Sinks</a> and <a href="../query-guide/#store">Store Tables</a> can also be configured and referred from Siddhi Apps.</p>
<p><strong>Example</strong>: Configuring http source using <code>ref</code></p>
<p>Following configuration defines the <code>url</code> and details about <code>basic.auth</code>, in the Siddhi Configuration yaml.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">refs</span><span class="p">:</span>
  <span class="p p-Indicator">-</span>
    <span class="nt">ref</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;http-passthrough&#39;</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&#39;http&#39;</span>
      <span class="nt">properties</span><span class="p">:</span>
        <span class="nt">receiver.url</span><span class="p">:</span> <span class="s">&#39;http://0.0.0.0:8008/sweet-production&#39;</span>
        <span class="nt">basic.auth.enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></p>
<p>This can be referred in the Siddhi Applications as follows.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="o">@</span><span class="nf">Source</span><span class="p">(</span><span class="n">ref</span><span class="o">=</span><span class="s1">&#39;http-passthrough&#39;</span><span class="p">,</span>
        <span class="o">@</span><span class="nf">map</span><span class="p">(</span><span class="n">type</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="o">@</span><span class="nf">attributes</span><span class="p">(</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;$.name&#39;</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="s1">&#39;$.quantity&#39;</span><span class="p">)))</span>
<span class="n">define</span> <span class="n">stream</span> <span class="nf">SweetProductionStream</span> <span class="p">(</span><span class="n">name</span> <span class="n">string</span><span class="p">,</span> <span class="n">amount</span> <span class="kt">double</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<h3 id="configuring-extensions-system-parameters">Configuring Extensions System Parameters<a class="headerlink" href="#configuring-extensions-system-parameters" title="Permanent link">&para;</a></h3>
<p>Siddhi extensions cater use-case specific logic that is not available by default in Siddhi. Some of these extensions have system parameter configurations to define/modify their behavior. These extensions usually have default values for the parameters, but when needed, they can be overridden by configuring the parameters in Siddhi Configuration yaml and passing it at startup.</p>
<p>The following is the syntax for the configuration.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">extensions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span>
    <span class="nt">extension</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;extension name&gt;</span>
      <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;extension namespace&gt;</span>
      <span class="nt">properties</span><span class="p">:</span>
        <span class="nt">&lt;key&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
</pre></div>
</td></tr></table>
For each separate extension you want to configure, add a sub-section named <code>extension</code> under the <code>extensions</code> subsection.</p>
<p>Following are some examples on overriding default system properties via Siddhi Configuration yaml</p>
<p><strong>Example 1</strong>: Defining service host and port for the TCP source
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">extensions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">extension</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tcp</span>
      <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">source</span>
      <span class="nt">properties</span><span class="p">:</span>
        <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5511</span>
</pre></div>
</td></tr></table>
<strong>Example 2</strong>: Overwriting the default RDBMS extension configuration
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">extensions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">extension</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rdbms</span>
      <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">store</span>
      <span class="nt">properties</span><span class="p">:</span>
        <span class="nt">mysql.batchEnable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">mysql.batchSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
        <span class="nt">mysql.indexCreateQuery</span><span class="p">:</span> <span class="s">&quot;CREATE</span><span class="nv"> </span><span class="s">INDEX</span><span class="nv"> </span><span class="s">{{TABLE_NAME}}_INDEX</span><span class="nv"> </span><span class="s">ON</span><span class="nv"> </span><span class="s">{{TABLE_NAME}}</span><span class="nv"> </span><span class="s">({{INDEX_COLUMNS}})&quot;</span>
        <span class="nt">mysql.recordDeleteQuery</span><span class="p">:</span> <span class="s">&quot;DELETE</span><span class="nv"> </span><span class="s">FROM</span><span class="nv"> </span><span class="s">{{TABLE_NAME}}</span><span class="nv"> </span><span class="s">{{CONDITION}}&quot;</span>
        <span class="nt">mysql.recordExistsQuery</span><span class="p">:</span> <span class="s">&quot;SELECT</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">FROM</span><span class="nv"> </span><span class="s">{{TABLE_NAME}}</span><span class="nv"> </span><span class="s">{{CONDITION}}</span><span class="nv"> </span><span class="s">LIMIT</span><span class="nv"> </span><span class="s">1&quot;</span>
</pre></div>
</td></tr></table></p>
<h3 id="configuring-siddhi-properties">Configuring Siddhi Properties<a class="headerlink" href="#configuring-siddhi-properties" title="Permanent link">&para;</a></h3>
<p>Siddhi supports setting following properties to be specify distribution based behaviours, for instance all <a href="../query-guide/#named-aggregation">Named Aggregation</a> in the distribution can be changed to <a href="../query-guide/#distributed-aggregation">Distributed Named Aggregation</a> with the following siddhi properties.</p>
<table>
<thead>
<tr>
<th>System Property</th>
<th>Description</th>
<th>Possible Values</th>
<th>Optional</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>shardId</td>
<td>The id of the shard one of the distributed aggregation is running in. This should be unique to a single shard</td>
<td>Any string</td>
<td>No</td>
<td><Empty_String></td>
</tr>
<tr>
<td>partitionById</td>
<td>This allows user to enable/disable distributed aggregation for all aggregations running in one siddhi manager .(Available from v4.3.3)</td>
<td>true/false</td>
<td>Yes</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>Following is the example of setting Distributed Named Aggregation
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">properties</span><span class="p">:</span>
  <span class="nt">partitionById </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">shardId </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">shard1</span>
</pre></div>
</td></tr></table></p>
<h2 id="configuring-authentication">Configuring Authentication<a class="headerlink" href="#configuring-authentication" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>Siddhi is configured with user name <code>admin</code>, and password <code>admin</code>. This can be updated by adding related user management configuration as <code>authentication</code> to the Siddhi Configuration yaml, and pass it at startup.</p>
<p>A sample <code>authentication</code> is as follows.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Authentication configuration</span>
<span class="nt">authentication</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="s">&#39;local&#39;</span>        <span class="c1"># Type of the IdP client used</span>
  <span class="nt">userManager</span><span class="p">:</span>
    <span class="nt">adminRole</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>   <span class="c1"># Admin role which is granted all permissions</span>
    <span class="nt">userStore</span><span class="p">:</span>         <span class="c1"># User store</span>
      <span class="nt">users</span><span class="p">:</span>
       <span class="p p-Indicator">-</span>
         <span class="nt">user</span><span class="p">:</span>
           <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
           <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">YWRtaW4=</span>
           <span class="nt">roles</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">roles</span><span class="p">:</span>
       <span class="p p-Indicator">-</span>
         <span class="nt">role</span><span class="p">:</span>
           <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
           <span class="nt">displayName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
</pre></div>
</td></tr></table>

<h2 id="adding-extensions-and-third-party-dependencies">Adding Extensions and Third Party Dependencies<a class="headerlink" href="#adding-extensions-and-third-party-dependencies" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable for all modes.</p>
</div>
<p>For certain use-cases, Siddhi might require extensions and/or third party dependencies to fulfill some characteristics that it does not provide by default.</p>
<p>This section provides details on how to add or update extension and/or third party dependencies that is needed by Siddhi.</p>
<h3 id="adding-to-siddhi-java-program">Adding to Siddhi Java Program<a class="headerlink" href="#adding-to-siddhi-java-program" title="Permanent link">&para;</a></h3>
<p>When running Siddhi as a Java library, the extension jars and/or third-party dependencies needed for Siddhi can be simply added to Siddhi class-path. When Maven is used as the build tool add them to the <code>pom.xml</code> file along with the other mandatory jars needed by Siddhi as given is <a href="../siddhi-as-a-java-library/">Using Siddhi as a library</a> guide.</p>
<p>A sample on adding <code>siddhi-io-http</code> extension to the Maven <code>pom.xml</code> is as follows.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!--HTTP extension--&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.wso2.extension.siddhi.io.http<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>siddhi-io-http<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>${siddhi.io.http.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>   
</pre></div>
</td></tr></table>

<p>Refer <a href="../siddhi-as-a-java-library/">guide</a> for more details on using Siddhi as a Java Library.</p>
<h3 id="adding-to-siddhi-local-microservice">Adding to Siddhi Local Microservice<a class="headerlink" href="#adding-to-siddhi-local-microservice" title="Permanent link">&para;</a></h3>
<p>The most used Siddhi extensions are packed by default with the Siddhi Local Microservice distribution.</p>
<p>To add or update Siddhi extensions and/or third-party dependencies, you can use <code>&lt;SIDDHI_RUNNER_HOME&gt;/jars</code> and 
<code>&lt;SIDDHI_RUNNER_HOME&gt;/bundles</code> directories. </p>
<ol>
<li><code>&lt;SIDDHI_RUNNER_HOME&gt;/jars</code> directory : Maintained for Jar files which may not have their corresponding OSGi bundle implementation. 
These Jars will be converted as OSGI bundles and copied to Siddhi Runner distribution during server startup. </li>
<li><code>&lt;SIDDHI_RUNNER_HOME&gt;/bundles</code> directory : Maintained for OSGI bundles which you need to copy to Siddhi Runner distribution during server startup.</li>
</ol>
<p>Updates to these directories will be adapted after a server restart.</p>
<p>Refer <a href="../siddhi-as-a-local-microservice/">guide</a> for more details on using Siddhi as Local Microservice.</p>
<h3 id="adding-to-siddhi-docker-microservice">Adding to Siddhi Docker Microservice<a class="headerlink" href="#adding-to-siddhi-docker-microservice" title="Permanent link">&para;</a></h3>
<p>The most used Siddhi extensions are packed by default with the Siddhi Docker Microservice distribution.</p>
<p>To add or update Siddhi extensions and/or third-party dependencies, a new docker image has to be built from either <a href="https://hub.docker.com/r/siddhiio/siddhi-runner-base-ubuntu">siddhi-runner-base-ubuntu</a> or <a href="https://hub.docker.com/r/siddhiio/siddhi-runner-base-alpine">siddhi-runner-base-alpine</a> images. These images contain Linux OS, JDK and the Siddhi distribution.</p>
<p>Sample docker file using <code>siddhi-runner-base-alpine</code> is as follows.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c"># use siddhi-runner-base</span>
<span class="k">FROM</span><span class="s"> siddhiio/siddhi-runner-base-alpine:5.1.0-alpha</span>
<span class="k">MAINTAINER</span><span class="s"> Siddhi IO Docker Maintainers &quot;siddhi-dev@googlegroups.com&quot;</span>

<span class="k">ARG</span> <span class="nv">HOST_BUNDLES_DIR</span><span class="o">=</span>./files/bundles
<span class="k">ARG</span> <span class="nv">HOST_JARS_DIR</span><span class="o">=</span>./files/jars
<span class="k">ARG</span> <span class="nv">JARS</span><span class="o">=</span><span class="si">${</span><span class="nv">RUNTIME_SERVER_HOME</span><span class="si">}</span>/jars
<span class="k">ARG</span> <span class="nv">BUNDLES</span><span class="o">=</span><span class="si">${</span><span class="nv">RUNTIME_SERVER_HOME</span><span class="si">}</span>/bundles

<span class="c"># copy bundles &amp; jars to the siddhi-runner distribution</span>
<span class="k">COPY</span> --chown<span class="o">=</span>siddhi_user:siddhi_io <span class="si">${</span><span class="nv">HOST_BUNDLES_DIR</span><span class="si">}</span>/ <span class="si">${</span><span class="nv">BUNDLES</span><span class="si">}</span>
<span class="k">COPY</span> --chown<span class="o">=</span>siddhi_user:siddhi_io <span class="si">${</span><span class="nv">HOST_JARS_DIR</span><span class="si">}</span>/ <span class="si">${</span><span class="nv">JARS</span><span class="si">}</span>

<span class="c"># expose ports</span>
<span class="k">EXPOSE</span><span class="s"> 9090 9443 9712 9612 7711 7611 7070 7443</span>

<span class="k">RUN</span> bash <span class="si">${</span><span class="nv">RUNTIME_SERVER_HOME</span><span class="si">}</span>/bin/install-jars.sh

<span class="k">STOPSIGNAL</span><span class="s"> SIGINT</span>

<span class="k">ENTRYPOINT</span> <span class="p">[</span><span class="s2">&quot;/home/siddhi_user/siddhi-runner/bin/runner.sh&quot;</span><span class="p">,</span>  <span class="s2">&quot;--&quot;</span><span class="p">]</span>
</pre></div>
</td></tr></table></p>
<p>Find the necessary artifacts to build the docker from <a href="https://github.com/siddhi-io/docker-siddhi/tree/master/docker-files/siddhi-runner">docker-siddhi</a> repository.</p>
<p><code>&lt;DOCKERFILE_HOME&amp;gt/siddhi-runner/files</code> contains two directories (bundles and jars directories) where you can copy the Jars and Bundles you need to bundle into the docker image.</p>
<ol>
<li>Jars directory - Maintained for Jar files which may not have their corresponding OSGi bundle implementation. These Jars will be converted as OSGI bundles and copied to Siddhi Runner docker image during docker build phase.</li>
<li>Bundles directory - Maintained for OSGI bundles which you need to copy to Siddhi Runner docker image directory during docker build phase.</li>
</ol>
<p>Refer <a href="../siddhi-as-a-docker-microservice/">guide</a> for more details on using Siddhi as Docker Microservice.</p>
<h3 id="adding-to-siddhi-kubernetes-microservice">Adding to Siddhi Kubernetes Microservice<a class="headerlink" href="#adding-to-siddhi-kubernetes-microservice" title="Permanent link">&para;</a></h3>
<p>To add or update Siddhi extensions and/or third-party dependencies, a custom docker image has to be created using the steps described in <a href="#adding-to-siddhi-docker-microservice">Adding to Siddhi Docker Microservice</a> documentation including the necessary extensions and dependencies. </p>
<p>The created image can be then referenced in the <code>sepc.pod</code> subsection in the <code>SiddhiProcess</code> Kubernetes artifact created to deploy Siddhi in Kubernetes.</p>
<p>For details on creating the Kubernetes artifacts refer <a href="../siddhi-as-a-kubernetes-microservice/">Using Siddhi as Kubernetes Microservice</a> documentation.</p>
<h2 id="configuring-statistics">Configuring Statistics<a class="headerlink" href="#configuring-statistics" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Applicable only for Local, Docker, and Kubernetes modes.</p>
<p>This section is not applicable for Java and Python modes.</p>
</div>
<p>Siddhi uses <a href="https://metrics.dropwizard.io/">dropwizard</a> metrics library to calculate Siddhi and JVM statistics, and it can report the results via JMX Mbeans, console or database.</p>
<p>To enable statistics, the relevant configuration under <code>metrics</code> section should be added to the Siddhi Configuration yaml as follows, and at the same time the statistics collection should be enabled in the Siddhi Application which is being monitored. Refer <a href="../query-guide/#statistics">Siddhi Application Statistics</a> documentation for enabling Siddhi Application level statistics.</p>
<div class="admonition note">
<p class="admonition-title">Configuring Metrics reporting level.</p>
<p>To modify the statistics reporting, relevant metric names can be added under the <code>metrics.levels</code> subsection in the Siddhi Configurations yaml, along with the metrics level (i.e., OFF, INFO, DEBUG, TRACE, or ALL) as given below.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">metrics</span><span class="p">:</span>
  <span class="c1"># Metrics Levels are organized from most specific to least:</span>
  <span class="c1"># OFF (most specific, no metrics)</span>
  <span class="c1"># INFO</span>
  <span class="c1"># DEBUG</span>
  <span class="c1"># TRACE (least specific, a lot of data)</span>
  <span class="c1"># ALL (least specific, all data)</span>
  <span class="nt">levels</span><span class="p">:</span>
    <span class="c1"># The root level configured for Metrics</span>
    <span class="nt">rootLevel</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
    <span class="c1"># Metric Levels</span>
    <span class="nt">levels</span><span class="p">:</span>
      <span class="nt">jvm.buffers</span><span class="p">:</span> <span class="s">&#39;OFF&#39;</span>
      <span class="nt">jvm.class-loading</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
      <span class="nt">jvm.gc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
      <span class="nt">jvm.memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
</pre></div>
</td></tr></table></p>
</div>
<p>The available metrics reporting options are as follows.</p>
<h3 id="reporting-via-jmx-mbeans">Reporting via JMX Mbeans<a class="headerlink" href="#reporting-via-jmx-mbeans" title="Permanent link">&para;</a></h3>
<p>JMX Mbeans is the default statistics reporting option of Siddhi. To enable stats with the default configuration add the metric-related properties under <code>metrics</code> section in the Siddhi Configurations yaml file, and pass that during startup.</p>
<p>A sample configuration is as follows.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">metrics</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</td></tr></table>
This will report JMX Mbeans in the name of <code>org.wso2.carbon.metrics</code>. However, in this default configuration the JVM metrics will not be measured.</p>
<p>A detail JMX configuration along with the metrics reporting level is as follows.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">metrics</span><span class="p">:</span>
  <span class="c1"># Enable Metrics</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">jmx</span><span class="p">:</span>
    <span class="c1"># Register MBean when initializing Metrics</span>
    <span class="nt">registerMBean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="c1"># MBean Name</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.wso2.carbon:type=Metrics</span>
  <span class="c1"># Metrics Levels are organized from most specific to least:</span>
  <span class="c1"># OFF (most specific, no metrics)</span>
  <span class="c1"># INFO</span>
  <span class="c1"># DEBUG</span>
  <span class="c1"># TRACE (least specific, a lot of data)</span>
  <span class="c1"># ALL (least specific, all data)</span>
  <span class="nt">levels</span><span class="p">:</span>
    <span class="c1"># The root level configured for Metrics</span>
    <span class="nt">rootLevel</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
    <span class="c1"># Metric Levels</span>
    <span class="nt">levels</span><span class="p">:</span>
      <span class="nt">jvm.buffers</span><span class="p">:</span> <span class="s">&#39;OFF&#39;</span>
      <span class="nt">jvm.class-loading</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
      <span class="nt">jvm.gc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
      <span class="nt">jvm.memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
</pre></div>
</td></tr></table>

<h3 id="reporting-via-console">Reporting via Console<a class="headerlink" href="#reporting-via-console" title="Permanent link">&para;</a></h3>
<p>To enable statistics by periodically printing the metrics on console add the following configuration to the the Siddhi Configurations yaml file, and pass that during startup.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># This is the main configuration for metrics</span>
<span class="nt">metrics</span><span class="p">:</span>
  <span class="c1"># Enable Metrics</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="nt">reporting</span><span class="p">:</span>
    <span class="nt">console</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="c1"># The name for the Console Reporter</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Console</span>
        <span class="c1"># Enable Console Reporter</span>
        <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="c1"># Polling Period in seconds.</span>
        <span class="c1"># This is the period for polling metrics from the metric registry and printing in the console</span>
        <span class="nt">pollingPeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</td></tr></table>

<h3 id="reporting-via-database">Reporting via Database<a class="headerlink" href="#reporting-via-database" title="Permanent link">&para;</a></h3>
<p>To enable JDBC reporting and to periodically clean up the outdated statistics from the database, first a datasource should be created with the relevant database configurations and then the related metrics properties as given below should be added to in the Siddhi Configurations yaml file, and pass that during startup.</p>
<p>The below sample is referring to the datasource with JNDI name <code>jdbc/SiddhiMetricsDB</code>, hence the datasource configuration in yaml should have <code>jndiConfig.name</code> as <code>jdbc/SiddhiMetricsDB</code>. For detailed instructions on configuring a datasource, refer <a href="#configuring-databases">Configuring Databases</a>.</p>
<p>. The scripts to create these tables are provided in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/wso2/runner/dbscripts</code> directory.</p>
<p>Sample configuration of reporting via database.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">metrics</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">jdbc</span><span class="p">:</span>
  <span class="c1"># Data Source Configurations for JDBC Reporters</span>
    <span class="nt">dataSource</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nl">&amp;JDBC01</span>
        <span class="nt">dataSourceName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">java:comp/env/jdbc/SiddhiMetricsDB</span>
        <span class="nt">scheduledCleanup</span><span class="p">:</span>
          <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
          <span class="nt">daysToKeep</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">7</span>
          <span class="nt">scheduledCleanupPeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">86400</span>
  <span class="nt">reporting</span><span class="p">:</span>
    <span class="nt">jdbc</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="c1"># The name for the JDBC Reporter</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">JDBC</span>
        <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">dataSource</span><span class="p">:</span> <span class="nv">*JDBC01</span>
        <span class="nt">pollingPeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>      
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Metrics history and reporting interval</p>
<p>If the <code>metrics.reporting.jdbc</code> subsection is not enabled, the information relating to metrics history will not be persisted for future references. Also note the that the reporting will only start to update the database after the given <code>pollingPeriod</code> time has elapsed.  </p>
</div>
<p>Information about the parameters configured under the <code>jdbc.dataSource</code> subsection in the Siddhi Configuration yaml is as follows.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataSourceName</td>
<td><code>java:comp/env/jdbc/SiddhiMetricsDB</code></td>
<td><code>java:comp/env/&lt;datasource JNDI name&gt;</code>. The JNDI name of the datasource used to store metric data.</td>
</tr>
<tr>
<td>scheduledCleanup.enabled</td>
<td>false</td>
<td>If this is set to true, metrics data stored in the database is cleared periodically based on scheduled time interval.</td>
</tr>
<tr>
<td>scheduledCleanup.daysToKeep</td>
<td>3</td>
<td>If scheduled clean-up of metric data is enabled, all metric data in the database that are older than the number of days specified in this parameter are deleted.</td>
</tr>
<tr>
<td>scheduledCleanup.scheduledCleanupPeriod</td>
<td>86400</td>
<td>The parameter specifies the time interval in seconds at which metric data should be cleaned.</td>
</tr>
</tbody>
</table>
<h2 id="converting-jars-to-osgi-bundles">Converting Jars to OSGi Bundles<a class="headerlink" href="#converting-jars-to-osgi-bundles" title="Permanent link">&para;</a></h2>
<p>To convert jar files to OSGi bundles, first download and save the non-OSGi jar it in a preferred directory in your machine. Then from the CLI, navigate to the <code>&lt;SIDDHI_RUNNER_HOME&gt;/bin</code> directory, and issue the following command.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>./jartobundle.sh &lt;path to non OSGi jar&gt; ../lib
</pre></div>
</td></tr></table>

<p>This converts the Jar to OSGi bundles and place it in <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib</code> directory.</p>
<h2 id="encrypt-sensitive-deployment-configurations">Encrypt sensitive deployment configurations<a class="headerlink" href="#encrypt-sensitive-deployment-configurations" title="Permanent link">&para;</a></h2>
<p>Cipher tool is used to encrypt sensitive data in deployment configurations. This tool works in conjunction with Secure Vault to replace sensitive data that is in plain text with an alias. The actual value is then encrypted and securely stored in the SecureVault. At runtime, the actual value is retrieved from the alias and used. For more information, see <a href="https://github.com/wso2/carbon-secvault/blob/master/README.md">Secure Vault</a>.</p>
<p>Below is the default configurations for Secure Vault
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Secure Vault Configuration</span>
<span class="nt">securevault</span><span class="p">:</span>
  <span class="nt">secretRepository</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.wso2.carbon.secvault.repository.DefaultSecretRepository</span>
    <span class="nt">parameters</span><span class="p">:</span>
      <span class="nt">privateKeyAlias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wso2carbon</span>
      <span class="nt">keystoreLocation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${SIDDHI_RUNNER_HOME}/resources/security/securevault.jks</span>
      <span class="nt">secretPropertiesFile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${SIDDHI_RUNNER_HOME}/conf/runner/secrets.properties</span>
  <span class="nt">masterKeyReader</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.wso2.carbon.secvault.reader.DefaultMasterKeyReader</span>
    <span class="nt">parameters</span><span class="p">:</span>
      <span class="nt">masterKeyReaderFile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${SIDDHI_RUNNER_HOME}/conf/runner/master-keys.yaml</span>
</pre></div>
</td></tr></table>
Information about the parameters configured under the <code>securevault</code> subsection in the Siddhi Configuration yaml is as follows.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>secretRepository &gt; type</td>
<td>org.wso2.carbon.secvault.repository.DefaultSecretRepository</td>
<td>The default implementation of Secret Repository is based on the passwords and aliases given in the secrets.properties file and the JKS that is configured in the secure-vault.yaml file</td>
</tr>
<tr>
<td>secretPropertiesFile</td>
<td><code>${SIDDHI_RUNNER_HOME}/conf/runner/secrets.properties</code></td>
<td>Location of the <code>secrect.properties</code> file which matches alias with encrypted data</td>
</tr>
<tr>
<td>secretPropertiesFile</td>
<td><code>${SIDDHI_RUNNER_HOME}/resources/security/securevault.jks</code></td>
<td>Keystore which contains the certificate to encrypt sensitive data</td>
</tr>
<tr>
<td>privateKeyAlias</td>
<td>wso2carbon</td>
<td>Alias of the certificate in the key store used for encryption</td>
</tr>
<tr>
<td>masterKeyReader &gt; type</td>
<td>org.wso2.carbon.secvault.reader.DefaultMasterKeyReader</td>
<td>The default implementation of MasterKeyReader gets a list of required passwords from the Secret Repository and provides the values for those passwords by reading system properties, environment variables and the master-keys.yaml file.</td>
</tr>
<tr>
<td>masterKeyReaderFile</td>
<td><code>${SIDDHI_RUNNER_HOME\}/conf/runner/master-keys.yaml</code></td>
<td>Location of <code>master-keys.yaml</code> file which contains password used to access the key store to decrypt the encrypted passwords at runtime</td>
</tr>
</tbody>
</table>
<h2 id="configuring-server-properties">Configuring server properties<a class="headerlink" href="#configuring-server-properties" title="Permanent link">&para;</a></h2>
<p>Siddhi runner and tooling distribution is based on WSO2 Carbon 5 Kernel platform. The properties for the server can be configure under <code>wso2.carbon</code> namespace.</p>
<p>Sample configurations is as follows,
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">wso2.carbon</span><span class="p">:</span>
  <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">siddhi-runner</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siddhi Runner Distribution</span>
</pre></div>
</td></tr></table></p>
<h3 id="configure-port-offset">Configure port offset<a class="headerlink" href="#configure-port-offset" title="Permanent link">&para;</a></h3>
<p>Port offset defines the number by which all ports defined in the runtime such as the HTTP/S ports will be offset. For example, if the default HTTP port is 9090 and the <code>ports &gt;&gt; offset</code> is 1, the effective HTTP port will be 9091. This configuration allows to change ports in a uniform manner across the transports.</p>
<p>Below is the sample configurations for offsets,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">wso2.carbon</span><span class="p">:</span>
  <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">siddhi-runner</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siddhi Runner Distribution</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="nt">offset</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</td></tr></table>

<h3 id="disabling-host-name-verification">Disabling host name verification<a class="headerlink" href="#disabling-host-name-verification" title="Permanent link">&para;</a></h3>
<p>Hostname verification can be disabled in Admin APIs in analytics server side, with <code>hostnameVerificationEnabled</code></p>
<p>Below is the sample configuration,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">wso2.carbon</span><span class="p">:</span>
  <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">siddhi-runner</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siddhi Runner Distribution</span>
  <span class="nt">hostnameVerificationEnabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table>

<h2 id="configuring-admin-rest-apis">Configuring Admin REST APIs<a class="headerlink" href="#configuring-admin-rest-apis" title="Permanent link">&para;</a></h2>
<p>Admin API can be configured under the namespace <code>transports &gt;&gt; http</code>. </p>
<p>Sample Config and the parameters are as follows,
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">transports</span><span class="p">:</span>
  <span class="nt">http</span><span class="p">:</span>
    <span class="nt">listenerConfigurations</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> 
        <span class="nt">id</span><span class="p">:</span> <span class="s">&quot;default&quot;</span>
        <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;0.0.0.0&quot;</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9090</span>
      <span class="p p-Indicator">-</span> 
        <span class="nt">id</span><span class="p">:</span> <span class="s">&quot;msf4j-https&quot;</span>
        <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;0.0.0.0&quot;</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9443</span>
        <span class="nt">scheme</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https</span>
        <span class="nt">sslConfig</span><span class="p">:</span>
          <span class="nt">keyStore</span><span class="p">:</span> <span class="s">&quot;${carbon.home}/resources/security/wso2carbon.jks&quot;</span>
          <span class="nt">keyStorePassword</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wso2carbon</span>
    <span class="nt">transportProperties</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;server.bootstrap.socket.timeout&quot;</span>
        <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;latency.metrics.enabled&quot;</span>
        <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td align="center">default</td>
<td>Id of the server</td>
</tr>
<tr>
<td>host</td>
<td align="center">0.0.0.0</td>
<td>Hostname of the server</td>
</tr>
<tr>
<td>port</td>
<td align="center">8080</td>
<td>Port of the APIs</td>
</tr>
<tr>
<td>scheme</td>
<td align="center">http</td>
<td>Scheme of the APIs. It can be either <code>http</code> or <code>https</code></td>
</tr>
<tr>
<td>httpTraceLogEnabled</td>
<td align="center">false</td>
<td>Enable HTTP trace logs</td>
</tr>
<tr>
<td>httpAccessLogEnabled</td>
<td align="center">false</td>
<td>Enable HTTP access logs</td>
</tr>
<tr>
<td>socketIdleTimeout</td>
<td align="center">0</td>
<td>Timeout for socket for which requests received. Not set by default.</td>
</tr>
</tbody>
</table>
<p>SSL configurations (listenerConfigurations &gt;&gt; sslConfig)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>keyStore</td>
<td align="center"><code>${carbon.home}/resources/security/wso2carbon.jks</code></td>
<td>The file containing the private key of the client</td>
</tr>
<tr>
<td>keyStorePass</td>
<td align="center">wso2carbon</td>
<td>Password of the private key if it is encrypted</td>
</tr>
<tr>
<td>enableProtocols</td>
<td align="center">All</td>
<td>SSL/TLS protocols to be enabled (e.g.: TLSv1,TLSv1.1,TLSv1.2)</td>
</tr>
<tr>
<td>cipherSuites</td>
<td align="center">All</td>
<td>List of ciphers to be used eg: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</td>
</tr>
<tr>
<td>enableSessionCreation</td>
<td align="center"></td>
<td>Enable/disable new SSL session creation</td>
</tr>
<tr>
<td>sessionTimeOut</td>
<td align="center">0</td>
<td>SSL session time out. Not set by default.</td>
</tr>
<tr>
<td>handshakeTimeOut</td>
<td align="center">0</td>
<td>SSL handshake time out. Not set by default.</td>
</tr>
</tbody>
</table>
<p>Transport Properties (transportProperties)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>server.bootstrap.connect.timeout</td>
<td align="center">15000</td>
<td>Timout in millisecond to establish connection</td>
</tr>
<tr>
<td>server.bootstrap.socket.timeout</td>
<td align="center">60</td>
<td>Socket connection timeouts</td>
</tr>
<tr>
<td>latency.metrics.enabled</td>
<td align="center">false</td>
<td>Enable/Disable latency metrics by carbon metrics component</td>
</tr>
</tbody>
</table>
<h2 id="configuring-databridge-transport">Configuring Databridge Transport<a class="headerlink" href="#configuring-databridge-transport" title="Permanent link">&para;</a></h2>
<p>Siddhi uses Databridge transport to send and receive events over Thrift/Binary protocols, This can be used through <code>siddhi-io-wso2event</code> extension.</p>
<p>Sample Configuration is as follows,
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">transports</span><span class="p">:</span>      
  <span class="nt">databridge</span><span class="p">:</span>
  <span class="c1"># Configuration used for the databridge communication</span>
    <span class="nt">listenerConfigurations</span><span class="p">:</span>
      <span class="nt">workerThreads</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="l l-Scalar l-Scalar-Plain">.</span>
      <span class="l l-Scalar l-Scalar-Plain">.</span>
      <span class="l l-Scalar l-Scalar-Plain">.</span>
    <span class="nt">senderConfigurations</span><span class="p">:</span>
    <span class="c1"># Configuration of the Data Agents - to publish events through databridge</span>
      <span class="nt">agents</span><span class="p">:</span>
          <span class="nt">agentConfiguration</span><span class="p">:</span>
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Thrift</span>
            <span class="nt">dataEndpointClass</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint</span>
            <span class="l l-Scalar l-Scalar-Plain">.</span>
            <span class="l l-Scalar l-Scalar-Plain">.</span>
            <span class="l l-Scalar l-Scalar-Plain">.</span>
</pre></div>
</td></tr></table>
Here, <code>transports &gt;&gt; databridge</code> includes listenerConfigurations, to configure databridge receiver in WSO2Event Source, and senderConfigurations, to configure agents used to publish events over databridge in WSO2Event Sink</p>
<h3 id="configuring-databridge-listener">Configuring databridge listener<a class="headerlink" href="#configuring-databridge-listener" title="Permanent link">&para;</a></h3>
<p>Sample configuration for databridge listener and properties are as follows,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">transports</span><span class="p">:</span>
  <span class="nt">databridge</span><span class="p">:</span>
    <span class="nt">listenerConfigurations</span><span class="p">:</span>
      <span class="nt">workerThreads</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">maxEventBufferCapacity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">eventBufferSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2000</span>
      <span class="nt">keyStoreLocation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${sys:carbon.home}/resources/security/wso2carbon.jks</span>
      <span class="nt">keyStorePassword</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wso2carbon</span>
      <span class="nt">clientTimeoutMin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
      <span class="c1"># Data receiver configurations</span>
      <span class="nt">dataReceivers</span><span class="p">:</span>
        <span class="p p-Indicator">-</span>
          <span class="nt">dataReceiver</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Thrift</span>
            <span class="nt">properties</span><span class="p">:</span>
              <span class="nt">tcpPort</span><span class="p">:</span> <span class="s">&#39;7611&#39;</span>
              <span class="nt">sslPort</span><span class="p">:</span> <span class="s">&#39;7711&#39;</span>
        <span class="p p-Indicator">-</span> 
          <span class="nt">dataReceiver</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Binary</span>
            <span class="nt">properties</span><span class="p">:</span>
              <span class="nt">tcpPort</span><span class="p">:</span> <span class="s">&#39;9611&#39;</span>
              <span class="nt">sslPort</span><span class="p">:</span> <span class="s">&#39;9711&#39;</span>
              <span class="nt">tcpReceiverThreadPoolSize</span><span class="p">:</span> <span class="s">&#39;100&#39;</span>
              <span class="nt">sslReceiverThreadPoolSize</span><span class="p">:</span> <span class="s">&#39;100&#39;</span>
              <span class="nt">hostName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
</pre></div>
</td></tr></table>

<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>workerThreads</td>
<td align="center">10</td>
<td>No of worker threads to consume events</td>
</tr>
<tr>
<td>maxEventBufferCapacity</td>
<td align="center">10</td>
<td>Maximum amount of messages that can be queued internally in Message Buffer</td>
</tr>
<tr>
<td>eventBufferSize</td>
<td align="center">2000</td>
<td>Maximum number of events that can be stored in the queue</td>
</tr>
<tr>
<td>clientTimeoutMin</td>
<td align="center">30</td>
<td>Session timeout value in minutes</td>
</tr>
<tr>
<td>keyStoreLocation</td>
<td align="center"><code>${SIDDHIRUNNER_HOME}/resources/security/wso2carbon.jks</code></td>
<td>Keystore file path</td>
</tr>
<tr>
<td>Keystore password</td>
<td align="center">wo2carbon</td>
<td>Keystore password</td>
</tr>
<tr>
<td>dataReceivers</td>
<td align="center"></td>
<td>Generalised configuration for different types of data receivers</td>
</tr>
<tr>
<td>dataReceivers &gt;&gt; dataReceiver &gt;&gt; type</td>
<td align="center"></td>
<td>Type of the data receiver</td>
</tr>
</tbody>
</table>
<p>Parameters for Thrift data receiver,</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tcpPort</td>
<td align="center">7611</td>
<td>TCP port for the Thrift data receiver</td>
</tr>
<tr>
<td>sslPort</td>
<td align="center">7711</td>
<td>SSL port for the Thrift data receiver</td>
</tr>
</tbody>
</table>
<p>Parameters for Binary data receiver,</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tcpPort</td>
<td align="center">7611</td>
<td>TCP port for the Binary data receiver</td>
</tr>
<tr>
<td>sslPort</td>
<td align="center">7711</td>
<td>SSL port for the Binary data receiver</td>
</tr>
<tr>
<td>tcpReceiverThreadPoolSize</td>
<td align="center">100</td>
<td>Receiver pool size for Thrift TCP protocol</td>
</tr>
<tr>
<td>sslReceiverThreadPoolSize</td>
<td align="center">100</td>
<td>Receiver pool size for Thrift SSL protocol</td>
</tr>
<tr>
<td>hostname</td>
<td align="center">0.0.0.0</td>
<td>Hostname for the Thrift receiver</td>
</tr>
</tbody>
</table>
<h3 id="configuring-databridge-publisher">Configuring databridge publisher<a class="headerlink" href="#configuring-databridge-publisher" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>By default both Thrift and Binary agents will be started.</p>
<p>Sample configuration for databridge agent(publisher) and properties are as follows,
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">transports</span><span class="p">:</span>
  <span class="nt">databridge</span><span class="p">:</span>
    <span class="nt">senderConfigurations</span><span class="p">:</span>
      <span class="nt">agents</span><span class="p">:</span>
        <span class="p p-Indicator">-</span>
          <span class="nt">agentConfiguration</span><span class="p">:</span>
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Thrift</span>
            <span class="nt">dataEndpointClass</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint</span>
            <span class="nt">publishingStrategy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">async</span>
            <span class="nt">trustStorePath</span><span class="p">:</span> <span class="s">&#39;${sys:carbon.home}/resources/security/client-truststore.jks&#39;</span>
            <span class="nt">trustStorePassword</span><span class="p">:</span> <span class="s">&#39;wso2carbon&#39;</span>
            <span class="nt">queueSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32768</span>
            <span class="nt">batchSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
            <span class="nt">corePoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="nt">socketTimeoutMS</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
            <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="nt">keepAliveTimeInPool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
            <span class="nt">reconnectionInterval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
            <span class="nt">maxTransportPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">maxIdleConnections</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">evictionTimePeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5500</span>
            <span class="nt">minIdleTimeInPool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>
            <span class="nt">secureMaxTransportPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">secureMaxIdleConnections</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">secureEvictionTimePeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5500</span>
            <span class="nt">secureMinIdleTimeInPool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>
            <span class="nt">sslEnabledProtocols</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TLSv1.1,TLSv1.2</span>
            <span class="nt">ciphers</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</span>
        <span class="p p-Indicator">-</span>
          <span class="nt">agentConfiguration</span><span class="p">:</span>
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Binary</span>
            <span class="nt">dataEndpointClass</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">org.wso2.carbon.databridge.agent.endpoint.binary.BinaryDataEndpoint</span>
            <span class="nt">publishingStrategy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">async</span>
            <span class="nt">trustStorePath</span><span class="p">:</span> <span class="s">&#39;${sys:carbon.home}/resources/security/client-truststore.jks&#39;</span>
            <span class="nt">trustStorePassword</span><span class="p">:</span> <span class="s">&#39;wso2carbon&#39;</span>
            <span class="nt">queueSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32768</span>
            <span class="nt">batchSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
            <span class="nt">corePoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="nt">socketTimeoutMS</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30000</span>
            <span class="nt">maxPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="nt">keepAliveTimeInPool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
            <span class="nt">reconnectionInterval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
            <span class="nt">maxTransportPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">maxIdleConnections</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">evictionTimePeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5500</span>
            <span class="nt">minIdleTimeInPool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>
            <span class="nt">secureMaxTransportPoolSize</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">secureMaxIdleConnections</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>
            <span class="nt">secureEvictionTimePeriod</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5500</span>
            <span class="nt">secureMinIdleTimeInPool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>
            <span class="nt">sslEnabledProtocols</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TLSv1.1,TLSv1.2</span>
            <span class="nt">ciphers</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</span>
</pre></div>
</td></tr></table></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th align="center">Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td align="center">Thrift / Binary</td>
<td>Name of the databridge agent</td>
</tr>
<tr>
<td>dataEndpointClass</td>
<td align="center">org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint / org.wso2.carbon.databridge.agent.endpoint.thrift.ThriftDataEndpoint</td>
<td>Class of the databridge agent initialised</td>
</tr>
<tr>
<td>publishingStrategy</td>
<td align="center">async</td>
<td>Strategy used for publishing. Can be either <code>sync</code> or <code>async</code></td>
</tr>
<tr>
<td>trustStorePath</td>
<td align="center"><code>${sys:carbon.home\}/resources/security/client-truststore.jks</code></td>
<td>Truststore file path</td>
</tr>
<tr>
<td>trustStorePassword</td>
<td align="center">wso2carbon</td>
<td>Trust store password</td>
</tr>
<tr>
<td>queueSize</td>
<td align="center">32768</td>
<td>Queue size used to hold events before publishing</td>
</tr>
<tr>
<td>batchSize</td>
<td align="center">200</td>
<td>Size of a publishing batch of events</td>
</tr>
<tr>
<td>corePoolSize</td>
<td align="center">1</td>
<td>Pool size of the threads used to buffer before publishing</td>
</tr>
<tr>
<td>maxPoolSize</td>
<td align="center">1</td>
<td>Maximum pool size for threads used to buffer before publishing</td>
</tr>
<tr>
<td>socketTimeoutMS</td>
<td align="center">30000</td>
<td>Time for socket to timeout in Milliseconds</td>
</tr>
<tr>
<td>keepAliveTimeInPool</td>
<td align="center">20</td>
<td>Time used to keep the threads live</td>
</tr>
<tr>
<td>reconnectionInterval</td>
<td align="center">30</td>
<td>Reconnection interval in case of lost transmission</td>
</tr>
<tr>
<td>maxTransportPoolSize</td>
<td align="center">250</td>
<td>Transport threads used for publishing</td>
</tr>
<tr>
<td>maxIdleConnections</td>
<td align="center">250</td>
<td>Maximum idle connections maintained in the databridge</td>
</tr>
<tr>
<td>evictionTimePeriod</td>
<td align="center">5500</td>
<td>Eviction time interval</td>
</tr>
<tr>
<td>minIdleTimeInPool</td>
<td align="center">5500</td>
<td>Min idle time in pool</td>
</tr>
<tr>
<td>secureMaxTransportPoolSize</td>
<td align="center">250</td>
<td>Max transport pool size in SSL publishing</td>
</tr>
<tr>
<td>secureMaxIdleConnections</td>
<td align="center">250</td>
<td>Max idle connections in SSL publishing</td>
</tr>
<tr>
<td>secureEvictionTimePeriod</td>
<td align="center">5500</td>
<td>Eviction time period in SSL publishing</td>
</tr>
<tr>
<td>secureMinIdleTimeInPool</td>
<td align="center">5500</td>
<td>Min idle time in pool in SSL publishing</td>
</tr>
<tr>
<td>sslEnabledProtocols</td>
<td align="center">TLSv1.1,TLSv1.2</td>
<td>SSL enabled protocols</td>
</tr>
<tr>
<td>ciphers</td>
<td align="center">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,<br>TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,<br>TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,<br>TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,<br>TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,<br>TLS_DHE_RSA_WITH_AES_128_CBC_SHA,<br>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,<br>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,<br>TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</td>
<td>Ciphers used in transmission</td>
</tr>
</tbody>
</table>
                
                  
                
              
  <a href="#" class="cd-top text--replace js-cd-top">Top</a>

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../siddhi-as-a-kubernetes-microservice/" title="Siddhi Kubernetes Microservice" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Siddhi Kubernetes Microservice
              </span>
            </div>
          </a>
        
        
          <a href="../../development/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Siddhi - Documentation
          </div>
        
        &copy;2019 <a href="https://wso2.com/">WSO2</a>
      </div>
      
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="/community/#community-collaboration" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://github.com/siddhi-io/siddhi" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://medium.com/siddhi-io" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://twitter.com/siddhi_io" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/groups/13553064" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/lib/highlightjs/highlight.min.js"></script>
      
        <script src="../../assets/js/theme.js"></script>
      
        <script src="../../assets/lib/backtotop/js/util.js"></script>
      
        <script src="../../assets/lib/backtotop/js/main.js"></script>
      
    
  </body>
</html>